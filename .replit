language="csharp"
run="cd BlazorApp/ && dotnet watch run"

[env]
DOTNET_NOLOGO = "1"
DOTNET_CLI_TELEMETRY_OPTOUT = "1"

[packager]
language = "dotnet"

[packager.features]
packageSearch = true

[nix]
channel = "stable-21_11"

[languages.csharp]
pattern = "**/{*.cs,*.razor}"

  [languages.csharp.languageServer]
  start = ["omnisharp", "--languageserver"]

[workflows]
runButton = "Run Full Stack"

[[workflows.workflow]]
name = "Run API"
author = 38606645

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "dotnet run --project IncliSafeApi"

[[workflows.workflow]]
name = "Run Api"
author = 38606645

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "dotnet run --project IncliSafeApi"

[[workflows.workflow]]
name = "Run Full Stack"
author = 38606645

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "dotnet run --project IncliSafeApi"

[deployment]
run = ["sh", "-c", "dotnet run --project IncliSafeApi --urls http://0.0.0.0:80"]
build = ["sh", "-c", "dotnet build IncliSafeApi"]
